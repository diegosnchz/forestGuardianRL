# ๐๏ธ Arquitectura del Mission Logger

## Diagrama de Flujo Completo

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                        USUARIO (Streamlit UI)                            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                    โ
                                    โ 1. Configurar URI
                                    โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                            SIDEBAR                                       โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ ๐บ๏ธ MongoDB Atlas (Opcional)                                       โ โ
โ  โ URI: mongodb+srv://...                                            โ โ
โ  โ โ URI configurado                                                 โ โ
โ  โ                                                                    โ โ
โ  โ ๐พ Mission Logger                                                  โ โ
โ  โ โ Habilitar historial de misiones                                 โ โ
โ  โ โ Mission Logger conectado                                        โ โ
โ  โ ๐ รltima misiรณn: 550e8400...                                      โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                    โ
                                    โ 2. Ejecutar Misiรณn
                                    โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                          RUN_MISSION()                                   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ 1. Inicializar entorno (ForestFireEnv)                           โ โ
โ  โ 2. Inicializar agentes (Alpha, Bravo)                            โ โ
โ  โ 3. Inicializar XAI Explainer                                      โ โ
โ  โ 4. Loop de simulaciรณn:                                            โ โ
โ  โ    - Agente decide acciรณn                                         โ โ
โ  โ    - XAI explica decisiรณn                                         โ โ
โ  โ    - Guardar en st.session_state.xai_decisions                   โ โ
โ  โ 5. Calcular KPIs finales                                          โ โ
โ  โ 6. Llamar save_mission_summary()                                  โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                    โ
                                    โ 3. Guardar misiรณn
                                    โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                   SAVE_MISSION_SUMMARY()                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ 1. Calcular kpi_survival_rate                                     โ โ
โ  โ 2. Calcular trees_saved_pct                                       โ โ
โ  โ 3. Determinar mission_success (>50%)                              โ โ
โ  โ 4. Convertir xai_decisions a dict                                 โ โ
โ  โ 5. Calcular agent_stats por agente                                โ โ
โ  โ 6. Llamar MissionLogger.save_mission()                            โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                    โ
                                    โ 4. Persistir
                                    โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                   MISSIONLOGGER.SAVE_MISSION()                           โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ 1. Generar UUID                                                    โ โ
โ  โ 2. Generar timestamp ISO                                           โ โ
โ  โ 3. Convertir final_grid a GeoJSON                                 โ โ
โ  โ 4. Construir documento completo                                   โ โ
โ  โ 5. Insertar en MongoDB                                             โ โ
โ  โ 6. Retornar mission_id                                             โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                    โ
                                    โ 5. Store
                                    โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                      MONGODB ATLAS                                       โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ Database: forestguardian                                          โ โ
โ  โ Collection: mission_logs                                          โ โ
โ  โ                                                                    โ โ
โ  โ Document:                                                          โ โ
โ  โ {                                                                  โ โ
โ  โ   _id: ObjectId("..."),                                           โ โ
โ  โ   mission_id: "550e8400-e29b-41d4-a716-446655440000",            โ โ
โ  โ   timestamp: "2026-01-17T10:30:45.123456",                       โ โ
โ  โ   geo_zone: "Chapultepec",                                        โ โ
โ  โ   kpis: {                                                          โ โ
โ  โ     kpi_survival_rate: 85.5,                                      โ โ
โ  โ     mission_success: true                                          โ โ
โ  โ   },                                                               โ โ
โ  โ   xai_log: [{...}, {...}, ...],  // 142 decisions                โ โ
โ  โ   final_snapshot: {GeoJSON}                                       โ โ
โ  โ }                                                                  โ โ
โ  โ                                                                    โ โ
โ  โ Indexes:                                                           โ โ
โ  โ - {timestamp: -1}                                                 โ โ
โ  โ - {geo_zone: 1}                                                   โ โ
โ  โ - {kpis.kpi_survival_rate: -1}                                    โ โ
โ  โ - {geo_zone: 1, timestamp: -1}                                    โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                    โ
                                    โ 6. Consultar
                                    โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                         TAB 7: HISTORIAL DE MISIONES                    โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ                                                                    โ โ
โ  โ  โโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโ      โ โ
โ  โ  โ ๐ Recientesโ ๐ Mejores  โ ๐ Buscar   โ ๐ Estadรญs. โ      โ โ
โ  โ  โโโโโโโโโโโโโโโดโโโโโโโโโโโโโโดโโโโโโโโโโโโโโดโโโโโโโโโโโโโโ      โ โ
โ  โ                                                                    โ โ
โ  โ  ๐ RECIENTES:                                                     โ โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ  โ get_recent_missions(limit)                                   โโ โ
โ  โ  โ โ SELECT * ORDER BY timestamp DESC LIMIT N                   โโ โ
โ  โ  โ โ Tabla con 10 misiones                                      โโ โ
โ  โ  โ โ Selector para detalles                                     โโ โ
โ  โ  โ   โ get_mission_by_id(mission_id)                            โโ โ
โ  โ  โ   โ Mรฉtricas, Configuraciรณn, Agentes, XAI Log               โโ โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ                                                                    โ โ
โ  โ  ๐ MEJORES:                                                       โ โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ  โ get_top_missions(limit)                                      โโ โ
โ  โ  โ โ SELECT * ORDER BY kpi_survival_rate DESC LIMIT N           โโ โ
โ  โ  โ โ Grรกfico de barras interactivo                              โโ โ
โ  โ  โ โ Tabla de ranking                                           โโ โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ                                                                    โ โ
โ  โ  ๐ BUSCAR:                                                        โ โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ  โ Filtros:                                                     โโ โ
โ  โ  โ - Zona: get_missions_by_zone(zone, limit)                    โโ โ
โ  โ  โ - Supervivencia mรญnima: filtrado client-side                โโ โ
โ  โ  โ โ Tabla de resultados                                        โโ โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ                                                                    โ โ
โ  โ  ๐ ESTADรSTICAS:                                                  โ โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ  โ get_statistics()                                             โโ โ
โ  โ  โ โ Aggregation pipeline:                                      โโ โ
โ  โ  โ   - COUNT(*)                                                 โโ โ
โ  โ  โ   - AVG(kpi_survival_rate)                                   โโ โ
โ  โ  โ   - MAX(kpi_survival_rate)                                   โโ โ
โ  โ  โ   - AVG(steps_taken)                                         โโ โ
โ  โ  โ โ 4 cards de mรฉtricas                                        โโ โ
โ  โ  โ โ Grรกfico de tendencia temporal                              โโ โ
โ  โ  โ โ Pie chart de distribuciรณn por zona                         โโ โ
โ  โ  โ โ Bar chart de supervivencia por zona                        โโ โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## Diagrama de Clases

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    MissionLogger                        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ - uri: str                                              โ
โ - db_name: str                                          โ
โ - client: MongoClient                                   โ
โ - db: Database                                          โ
โ - collection: Collection                                โ
โ - connected: bool                                       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ + __init__(uri, database_name)                          โ
โ + connect() -> bool                                     โ
โ + save_mission(...) -> str                              โ
โ + get_recent_missions(limit) -> list                    โ
โ + get_top_missions(limit) -> list                       โ
โ + get_missions_by_zone(zone, limit) -> list             โ
โ + get_mission_by_id(mission_id) -> dict                 โ
โ + compare_missions(mission_ids) -> dict                 โ
โ + get_statistics() -> dict                              โ
โ + delete_mission(mission_id) -> bool                    โ
โ + clear_all_missions() -> bool                          โ
โ - _create_indexes() -> None                             โ
โ - _grid_to_geojson(grid) -> dict                        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                              โ
                              โ uses
                              โผ
            โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
            โ       pymongo.MongoClient       โ
            โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## Diagrama de Secuencia (Guardar Misiรณn)

```
Usuario    Streamlit    run_mission()    save_mission_summary()    MissionLogger    MongoDB
  โ            โ              โ                     โ                    โ            โ
  โ Click "๐" โ              โ                     โ                    โ            โ
  โโโโโโโโโโโโ>โ              โ                     โ                    โ            โ
  โ            โ inicializar  โ                     โ                    โ            โ
  โ            โโโโโโโโโโโโโ>โ                     โ                    โ            โ
  โ            โ              โ loop simulaciรณn     โ                    โ            โ
  โ            โ              โโโโโโโโโโโโโโโโโโโ   โ                    โ            โ
  โ            โ              โ                 โ   โ                    โ            โ
  โ            โ              โ XAI decisions   โ   โ                    โ            โ
  โ            โ              โ<โโโโโโโโโโโโโโโโโ   โ                    โ            โ
  โ            โ              โ                     โ                    โ            โ
  โ            โ              โ llamar              โ                    โ            โ
  โ            โ              โโโโโโโโโโโโโโโโโโโโโโ>โ                    โ            โ
  โ            โ              โ                     โ calcular KPIs      โ            โ
  โ            โ              โ                     โโโโโโโโโโโโโโโ      โ            โ
  โ            โ              โ                     โ             โ      โ            โ
  โ            โ              โ                     โ<โโโโโโโโโโโโโ      โ            โ
  โ            โ              โ                     โ                    โ            โ
  โ            โ              โ                     โ save_mission()     โ            โ
  โ            โ              โ                     โโโโโโโโโโโโโโโโโโโโ>โ            โ
  โ            โ              โ                     โ                    โ generar UUIDโ
  โ            โ              โ                     โ                    โโโโโโโโโโโโโโโ
  โ            โ              โ                     โ                    โ            โโ
  โ            โ              โ                     โ                    โ<โโโโโโโโโโโโโ
  โ            โ              โ                     โ                    โ            โ
  โ            โ              โ                     โ                    โ insert()   โ
  โ            โ              โ                     โ                    โโโโโโโโโโโโ>โ
  โ            โ              โ                     โ                    โ            โ
  โ            โ              โ                     โ                    โ ObjectId   โ
  โ            โ              โ                     โ                    โ<โโโโโโโโโโโโ
  โ            โ              โ                     โ                    โ            โ
  โ            โ              โ                     โ mission_id         โ            โ
  โ            โ              โ                     โ<โโโโโโโโโโโโโโโโโโโโ            โ
  โ            โ              โ                     โ                    โ            โ
  โ            โ              โ mission_id          โ                    โ            โ
  โ            โ              โ<โโโโโโโโโโโโโโโโโโโโโ                    โ            โ
  โ            โ              โ                     โ                    โ            โ
  โ            โ display      โ                     โ                    โ            โ
  โ            โ<โโโโโโโโโโโโโโ                     โ                    โ            โ
  โ            โ              โ                     โ                    โ            โ
  โ "Misiรณn    โ              โ                     โ                    โ            โ
  โ guardada"  โ              โ                     โ                    โ            โ
  โ<โโโโโโโโโโโโ              โ                     โ                    โ            โ
  โ            โ              โ                     โ                    โ            โ
```

---

## Diagrama de Secuencia (Consultar Misiones)

```
Usuario    Tab 7 UI    MissionLogger    MongoDB
  โ            โ              โ            โ
  โ click      โ              โ            โ
  โ "Recientes"โ              โ            โ
  โโโโโโโโโโโโ>โ              โ            โ
  โ            โ get_recent() โ            โ
  โ            โโโโโโโโโโโโโ>โ            โ
  โ            โ              โ find()     โ
  โ            โ              โ sort()     โ
  โ            โ              โ limit()    โ
  โ            โ              โโโโโโโโโโโโ>โ
  โ            โ              โ            โ
  โ            โ              โ documents  โ
  โ            โ              โ<โโโโโโโโโโโโ
  โ            โ              โ            โ
  โ            โ missions[]   โ            โ
  โ            โ<โโโโโโโโโโโโโโ            โ
  โ            โ              โ            โ
  โ render     โ              โ            โ
  โ table      โ              โ            โ
  โ<โโโโโโโโโโโโ              โ            โ
  โ            โ              โ            โ
  โ select     โ              โ            โ
  โ mission    โ              โ            โ
  โโโโโโโโโโโโ>โ              โ            โ
  โ            โ get_by_id()  โ            โ
  โ            โโโโโโโโโโโโโ>โ            โ
  โ            โ              โ find_one() โ
  โ            โ              โโโโโโโโโโโโ>โ
  โ            โ              โ            โ
  โ            โ              โ document   โ
  โ            โ              โ<โโโโโโโโโโโโ
  โ            โ              โ            โ
  โ            โ mission      โ            โ
  โ            โ<โโโโโโโโโโโโโโ            โ
  โ            โ              โ            โ
  โ render     โ              โ            โ
  โ details    โ              โ            โ
  โ<โโโโโโโโโโโโ              โ            โ
  โ            โ              โ            โ
```

---

## Modelo de Datos

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                        MISSION DOCUMENT                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ _id: ObjectId (MongoDB auto-generated)                          โ
โ mission_id: String (UUID v4)                                    โ
โ timestamp: String (ISO 8601)                                    โ
โ geo_zone: String                                                โ
โ geojson_file: String (nullable)                                 โ
โ                                                                  โ
โ configuration: {                                                โ
โ   grid_size: Integer                                            โ
โ   num_agents: Integer                                           โ
โ   fire_prob: Float                                              โ
โ   tree_density: Float                                           โ
โ   initial_fires: Integer                                        โ
โ   max_steps: Integer                                            โ
โ }                                                                โ
โ                                                                  โ
โ kpis: {                                                          โ
โ   kpi_survival_rate: Float                                      โ
โ   trees_saved_pct: Float                                        โ
โ   fires_extinguished: Integer                                   โ
โ   water_consumed: Integer                                       โ
โ   steps_taken: Integer                                          โ
โ   mission_success: Boolean                                      โ
โ }                                                                โ
โ                                                                  โ
โ xai_log: [                                                       โ
โ   {                                                              โ
โ     step: Integer                                               โ
โ     agent_id: String                                            โ
โ     position: [Integer, Integer]                                โ
โ     action_name: String                                         โ
โ     target_position: [Integer, Integer]                         โ
โ     distance_to_target: Float                                   โ
โ     explanation: String                                         โ
โ     tactical_reasoning: String (nullable)                       โ
โ     importance_scores: {                                        โ
โ       feature_name: Float                                       โ
โ     }                                                            โ
โ     confidence: Float                                           โ
โ   },                                                             โ
โ   ...                                                            โ
โ ]                                                                โ
โ                                                                  โ
โ agent_stats: {                                                   โ
โ   "Alpha": {                                                     โ
โ     decisions: Integer                                          โ
โ     avg_confidence: Float                                       โ
โ     avg_distance: Float                                         โ
โ     actions: {                                                   โ
โ       action_name: Integer                                      โ
โ     }                                                            โ
โ   },                                                             โ
โ   "Bravo": {...}                                                โ
โ }                                                                โ
โ                                                                  โ
โ final_snapshot: {                                               โ
โ   type: "FeatureCollection"                                     โ
โ   features: [                                                    โ
โ     {                                                            โ
โ       type: "Feature"                                           โ
โ       geometry: {                                               โ
โ         type: "Point"                                           โ
โ         coordinates: [Float, Float]                             โ
โ       }                                                          โ
โ       properties: {                                             โ
โ         cell_type: String                                       โ
โ         value: Integer                                          โ
โ       }                                                          โ
โ     },                                                           โ
โ     ...                                                          โ
โ   ]                                                              โ
โ }                                                                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## Flujo de Datos (Data Flow)

```
โโโโโโโโโโโโโโโโโโโโ
โ  SIMULATION      โ
โ  โโโโโโโโโโโโโโ  โ         โโโโโโโโโโโโโโโโ
โ  โ Alpha      โโโโผโโโโโโโโ>โ XAI Explainerโ
โ  โ Bravo      โ  โ         โโโโโโโโโโโโโโโโ
โ  โ Environmentโ  โ                 โ
โ  โโโโโโโโโโโโโโ  โ                 โ
โโโโโโโโโโโโโโโโโโโโ                 โ
         โ                           โ
         โ metrics                   โ decisions
         โผ                           โผ
โโโโโโโโโโโโโโโโโโโโ         โโโโโโโโโโโโโโโโ
โ KPIs             โ         โ xai_decisionsโ
โ - survival_rate  โ         โ (array)      โ
โ - fires_exting   โ         โโโโโโโโโโโโโโโโ
โ - water_used     โ                 โ
โ - steps          โ                 โ
โโโโโโโโโโโโโโโโโโโโ                 โ
         โ                           โ
         โ                           โ
         โโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโ
                  โ
                  โผ
         โโโโโโโโโโโโโโโโโโ
         โ save_mission_  โ
         โ summary()      โ
         โโโโโโโโโโโโโโโโโโ
                  โ
                  โ transforms
                  โผ
         โโโโโโโโโโโโโโโโโโ
         โ MongoDB        โ
         โ Document       โ
         โ {              โ
         โ   mission_id,  โ
         โ   timestamp,   โ
         โ   kpis,        โ
         โ   xai_log,     โ
         โ   ...          โ
         โ }              โ
         โโโโโโโโโโโโโโโโโโ
                  โ
                  โ insert
                  โผ
         โโโโโโโโโโโโโโโโโโ
         โ MongoDB Atlas  โ
         โ mission_logs   โ
         โโโโโโโโโโโโโโโโโโ
                  โ
                  โ query
                  โผ
         โโโโโโโโโโโโโโโโโโ
         โ Tab 7 UI       โ
         โ - Recientes    โ
         โ - Mejores      โ
         โ - Buscar       โ
         โ - Estadรญsticas โ
         โโโโโโโโโโโโโโโโโโ
```

---

## Arquitectura de Capas

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    PRESENTATION LAYER                        โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ Streamlit UI (app.py)                                 โ  โ
โ  โ - Sidebar (configuration)                             โ  โ
โ  โ - Tab 1-6 (existing functionality)                    โ  โ
โ  โ - Tab 7 (Mission History)                             โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                              โ
                              โ calls
                              โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                     BUSINESS LOGIC LAYER                     โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ Mission Logic                                         โ  โ
โ  โ - run_mission()                                       โ  โ
โ  โ - save_mission_summary()                              โ  โ
โ  โ - Agent coordination                                  โ  โ
โ  โ - XAI explanation generation                          โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                              โ
                              โ uses
                              โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                      DATA ACCESS LAYER                       โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ MissionLogger (mission_logger.py)                     โ  โ
โ  โ - CRUD operations                                     โ  โ
โ  โ - Query builders                                      โ  โ
โ  โ - Data transformation                                 โ  โ
โ  โ - Connection management                               โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                              โ
                              โ connects
                              โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                      DATABASE LAYER                          โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ MongoDB Atlas (Cloud)                                 โ  โ
โ  โ - Database: forestguardian                            โ  โ
โ  โ - Collection: mission_logs                            โ  โ
โ  โ - Indexes                                             โ  โ
โ  โ - Replication                                         โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

**รltima actualizaciรณn**: 2026-01-17  
**Versiรณn**: 1.0.0
